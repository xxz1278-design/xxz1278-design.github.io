saveRDS(bs_raw, "data/P_GLU.Rds")
bs_raw <- readRDS("data/P_GLU.Rds")
NEW_merged_data <- demo_raw %>%
left_join(bp_raw, by = "SEQN") %>%
left_join(pa_raw, by = "SEQN") %>%
left_join(chol_raw, by = "SEQN") %>%
left_join(bs_raw, by = "SEQN")
saveRDS(NEW_merged_data, "data/NEW_merged_data.Rds")
print(head(NEW_merged_data))
print(dim(NEW_merged_data))
clean_data_adults <- NEW_merged_data %>%
filter(RIDSTATR == "Both interviewed and MEC examined") %>%
filter(RIDAGEYR < 80) %>%
filter(RIDAGEYR >= 21)
cat("case #:", nrow(clean_data_adults), "\n")
print(head(clean_data_adults))
saveRDS(clean_data_adults, "data/clean_adult_data.Rds")
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
round(Mean_SBP, 0),
round(Mean_DBP, 0)
) %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
print(table(final_data$BP_Category, useNA = "ifany"))
#Chol level
final_data <- final_data %>%
mutate(
LDL_Category = case_when(
LBDLDL >= 160 ~ "4. Very High Risk (>=160)",
LBDLDL >= 130 & LBDLDL < 160 ~ "3. High Risk (130-159)",
LBDLDL >= 100 & LBDLDL < 130 ~ "2. Borderline (100-129)",
LBDLDL < 100 ~ "1. Optimal (<100)",
TRUE ~ NA_character_
)
) %>%
mutate(
LDL_Category = factor(LDL_Category, levels = c(
"1. Optimal (<100)",
"2. Borderline (100-129)",
"3. High Risk (130-159)",
"4. Very High Risk (>=160)"
))
)
print(table(final_data$LDL_Category, useNA = "ifany"))
saveRDS(final_data, "data/final_data.Rds")
final_data <- readRDS("data/final_data.Rds") %>%
select(
#Demo
ID = SEQN,
RIDSTATR,
Age = RIDAGEYR,
Gender = RIAGENDR,
#Key variables
Mean_SBP,
Mean_DBP,
BP_Category,
LDL_Cholesterol = LBDLDL,
LDL_Category,
Triglycerides = LBXTR,
Fasting_Glucose = LBXGLU
)%>%
drop_na()
final_n <- nrow(final_data)
cat("Study 1 case number:", final_n, "\n")
print(head(final_data))
saveRDS(final_data, "data/final_variables.rds")
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
) %>%
round(Mean_SBP, 0, Mean_DBP, 0)%>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
) %>%
round(Mean_SBP, 0, Mean_DBP, 0)%>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
)
round(Mean_SBP, 0, Mean_DBP, 0)%>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
)
round(Mean_SBP, 0, Mean_DBP, 0) %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
) %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
print(table(final_data$BP_Category, useNA = "ifany"))
#Chol level
final_data <- final_data %>%
mutate(
LDL_Category = case_when(
LBDLDL >= 160 ~ "4. Very High Risk (>=160)",
LBDLDL >= 130 & LBDLDL < 160 ~ "3. High Risk (130-159)",
LBDLDL >= 100 & LBDLDL < 130 ~ "2. Borderline (100-129)",
LBDLDL < 100 ~ "1. Optimal (<100)",
TRUE ~ NA_character_
)
) %>%
mutate(
LDL_Category = factor(LDL_Category, levels = c(
"1. Optimal (<100)",
"2. Borderline (100-129)",
"3. High Risk (130-159)",
"4. Very High Risk (>=160)"
))
)
print(table(final_data$LDL_Category, useNA = "ifany"))
saveRDS(final_data, "data/final_data.Rds")
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
) %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
round(mean_SBP, 0, mean_DBP, 0)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults %>%
mutate(
Mean_SBP = rowMeans(select(., BPXOSY1, BPXOSY2, BPXOSY3), na.rm = TRUE),
Mean_DBP = rowMeans(select(., BPXODI1, BPXODI2, BPXODI3), na.rm = TRUE),
) %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
final_data <- clean_data_adults %>%
round(mean_SBP, 0, mean_DBP, 0)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults
final_data$Mean_SBP <- base::rowMeans(
clean_data_adults[, c("BPXOSY1", "BPXOSY2", "BPXOSY3")],
na.rm = TRUE
)
final_data$Mean_DBP <- base::rowMeans(
clean_data_adults[, c("BPXODI1", "BPXODI2", "BPXODI3")],
na.rm = TRUE
)
final_data$Mean_SBP <- round(final_data$Mean_SBP, 0)
final_data$Mean_DBP <- round(final_data$Mean_DBP, 0)
final_data <- clean_data_adults
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults
final_data$Mean_SBP <- base::rowMeans(
clean_data_adults[, c("BPXOSY1", "BPXOSY2", "BPXOSY3")],
na.rm = TRUE
)
final_data$Mean_DBP <- base::rowMeans(
clean_data_adults[, c("BPXODI1", "BPXODI2", "BPXODI3")],
na.rm = TRUE
)
final_data$Mean_SBP <- round(final_data$Mean_SBP, 0)
final_data$Mean_DBP <- round(final_data$Mean_DBP, 0)
final_data <- final_data %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
print(table(final_data$BP_Category, useNA = "ifany"))
#Chol level
final_data <- final_data %>%
mutate(
LDL_Category = case_when(
LBDLDL >= 160 ~ "4. Very High Risk (>=160)",
LBDLDL >= 130 & LBDLDL < 160 ~ "3. High Risk (130-159)",
LBDLDL >= 100 & LBDLDL < 130 ~ "2. Borderline (100-129)",
LBDLDL < 100 ~ "1. Optimal (<100)",
TRUE ~ NA_character_
)
) %>%
mutate(
LDL_Category = factor(LDL_Category, levels = c(
"1. Optimal (<100)",
"2. Borderline (100-129)",
"3. High Risk (130-159)",
"4. Very High Risk (>=160)"
))
)
print(table(final_data$LDL_Category, useNA = "ifany"))
saveRDS(final_data, "data/final_data.Rds")
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults
final_data$Mean_SBP <- base::rowMeans(
clean_data_adults[, c("BPXOSY1", "BPXOSY2", "BPXOSY3")],
na.rm = TRUE
)
final_data$Mean_DBP <- base::rowMeans(
clean_data_adults[, c("BPXODI1", "BPXODI2", "BPXODI3")],
na.rm = TRUE
)
final_data$Mean_SBP <- round(final_data$Mean_SBP, 0)
final_data$Mean_DBP <- round(final_data$Mean_DBP, 0)
final_data <- final_data %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
print(table(final_data$Mean_SBP, useNA = "ifany"))
#Chol level
final_data <- final_data %>%
mutate(
LDL_Category = case_when(
LBDLDL >= 160 ~ "4. Very High Risk (>=160)",
LBDLDL >= 130 & LBDLDL < 160 ~ "3. High Risk (130-159)",
LBDLDL >= 100 & LBDLDL < 130 ~ "2. Borderline (100-129)",
LBDLDL < 100 ~ "1. Optimal (<100)",
TRUE ~ NA_character_
)
) %>%
mutate(
LDL_Category = factor(LDL_Category, levels = c(
"1. Optimal (<100)",
"2. Borderline (100-129)",
"3. High Risk (130-159)",
"4. Very High Risk (>=160)"
))
)
print(table(final_data$LDL_Category, useNA = "ifany"))
saveRDS(final_data, "data/final_data.Rds")
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults
final_data$Mean_SBP <- base::rowMeans(
clean_data_adults[, c("BPXOSY1", "BPXOSY2", "BPXOSY3")],
na.rm = TRUE
)
final_data$Mean_DBP <- base::rowMeans(
clean_data_adults[, c("BPXODI1", "BPXODI2", "BPXODI3")],
na.rm = TRUE
)
final_data$Mean_SBP <- round(final_data$Mean_SBP, 0)
final_data$Mean_DBP <- round(final_data$Mean_DBP, 0)
final_data <- final_data %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
#Chol level
final_data <- final_data %>%
mutate(
LDL_Category = case_when(
LBDLDL >= 160 ~ "4. Very High Risk (>=160)",
LBDLDL >= 130 & LBDLDL < 160 ~ "3. High Risk (130-159)",
LBDLDL >= 100 & LBDLDL < 130 ~ "2. Borderline (100-129)",
LBDLDL < 100 ~ "1. Optimal (<100)",
TRUE ~ NA_character_
)
) %>%
mutate(
LDL_Category = factor(LDL_Category, levels = c(
"1. Optimal (<100)",
"2. Borderline (100-129)",
"3. High Risk (130-159)",
"4. Very High Risk (>=160)"
))
)
print(table(final_data$LDL_Category, useNA = "ifany"))
saveRDS(final_data, "data/final_data.Rds")
# Calculate mean SBP/DBP and BP level
final_data <- clean_data_adults
final_data$Mean_SBP <- base::rowMeans(
clean_data_adults[, c("BPXOSY1", "BPXOSY2", "BPXOSY3")],
na.rm = TRUE
)
final_data$Mean_DBP <- base::rowMeans(
clean_data_adults[, c("BPXODI1", "BPXODI2", "BPXODI3")],
na.rm = TRUE
)
final_data$Mean_SBP <- round(final_data$Mean_SBP, 0)
final_data$Mean_DBP <- round(final_data$Mean_DBP, 0)
final_data <- final_data %>%
mutate(
BP_Category = case_when(
(Mean_SBP >= 140) | (Mean_DBP >= 90) ~ "4. Stage 2 Hypertension (>=140 or >=90)",
(Mean_SBP >= 130 & Mean_SBP < 140) | (Mean_DBP >= 80 & Mean_DBP < 90) ~ "3. Stage 1 Hypertension (130-139 or 80-89)",
(Mean_SBP >= 120 & Mean_SBP < 130) & (Mean_DBP < 80) ~ "2. Elevated (120-129 and <80)",
(Mean_SBP < 120) & (Mean_DBP < 80) ~ "1. Normal (<120 and <80)",
TRUE ~ NA_character_
)
) %>%
mutate(
BP_Category = factor(BP_Category, levels = c(
"1. Normal (<120 and <80)",
"2. Elevated (120-129 and <80)",
"3. Stage 1 Hypertension (130-139 or 80-89)",
"4. Stage 2 Hypertension (>=140 or >=90)"
))
)
print(table(final_data$BP_Category, useNA = "ifany"))
#Chol level
final_data <- final_data %>%
mutate(
LDL_Category = case_when(
LBDLDL >= 160 ~ "4. Very High Risk (>=160)",
LBDLDL >= 130 & LBDLDL < 160 ~ "3. High Risk (130-159)",
LBDLDL >= 100 & LBDLDL < 130 ~ "2. Borderline (100-129)",
LBDLDL < 100 ~ "1. Optimal (<100)",
TRUE ~ NA_character_
)
) %>%
mutate(
LDL_Category = factor(LDL_Category, levels = c(
"1. Optimal (<100)",
"2. Borderline (100-129)",
"3. High Risk (130-159)",
"4. Very High Risk (>=160)"
))
)
print(table(final_data$LDL_Category, useNA = "ifany"))
saveRDS(final_data, "data/final_data.Rds")
